def custom_pdf2jpg():
    from PIL import Image
    import pytesseract
    import sys
    from pdf2image import convert_from_path
    import os
    from os import listdir
    from os.path import isfile, join

    print("Please enter the directory of your pdf files")
    mypath = input()

    file_list_2 = [f for f in listdir(mypath) if isfile(join(mypath, f))]
    
    file_list = []
    
    for i in file_list_2:
        if ".pdf" in i:
            file_list.append(i)
    
    print("")
    print(f"Please enter the Drive you would you like to save your results to (e.g: ():/()")
    drive_letter = input()
    
    print("")
    print(f"Please enter directory of your target folder (must be an existing folder) (e.g: If you would like to save to {drive_letter}:/folders/myfolders, input folders/myfolders")
    mypath_2 = input()
    
    file_count = 1

    for i in file_list:
        pages = convert_from_path(f"{mypath}/{i}", 500, poppler_path = r"C:\Users\Admin\Downloads\Release-21.03.0\poppler-21.03.0\Library\bin")
        os.mkdir("{}:/{}/{}".format(drive_letter, mypath_2, "{}_{}".format(i, file_count)))
        print("")
        print(f"Converting file: {i}")
        image_count = 1
        for k in pages:
            print(f"Converting {i}_p{image_count}")
            filename = f"{drive_letter}:/{mypath_2}/{i}_{file_count}/{i}_p{image_count}.jpg"
            k.save(filename, "PNG")
            image_count += 1
        file_count += 1
        print(f"{i}: Conversion complete")
    
    print("")
    return "Conversion complete"
